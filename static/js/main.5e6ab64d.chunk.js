(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{20:function(e,t,r){},27:function(e,t,r){},29:function(e,t,r){},3:function(e,t,r){e.exports={formWrapper:"StringInput_formWrapper__AzLqe",inputWrapper:"StringInput_inputWrapper__26Mn2",input:"StringInput_input__3Wlel",errPointer:"StringInput_errPointer__gfVLP",showPointer:"StringInput_showPointer__pb9hE",errDescription:"StringInput_errDescription__JFabJ",calcBtn:"StringInput_calcBtn__6soSc",resultWrapper:"StringInput_resultWrapper__X7n4D",result:"StringInput_result__3CXoV"}},30:function(e,t,r){},31:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"setCur",(function(){return d})),r.d(n,"sum",(function(){return O})),r.d(n,"dec",(function(){return g})),r.d(n,"mul",(function(){return x})),r.d(n,"div",(function(){return m})),r.d(n,"perc",(function(){return w})),r.d(n,"inv",(function(){return V})),r.d(n,"setDot",(function(){return S})),r.d(n,"calculate",(function(){return y})),r.d(n,"clear",(function(){return _})),r.d(n,"remove",(function(){return A}));var a,c=r(0),u=r.n(c),l=r(7),s=r.n(l),i=(r(20),r(4)),o=r(13),p=r(5),b=p.c,j=(r(27),r(1)),f=function(e){var t=e.model,r=Object(p.b)(),n=b((function(e){return e.curValue})),a=b((function(e){return e.operator})),u=b((function(e){return e.isDot})),l=Object(c.useState)(t.value),s=Object(i.a)(l,2),o=s[0],f=s[1],h=Object(c.useState)(!1),v=Object(i.a)(h,2),d=v[0],O=v[1],g={sum:"+",dec:"-",mul:"x",div:"\xf7"};return Object(c.useEffect)((function(){g[a]===t.value?O(!0):O(!1),"."===t.value&&u?O(!0):O(!1)}),[a,u]),Object(c.useEffect)((function(){"AC"===t.value&&f(n?"C":"AC")}),[n]),Object(j.jsx)("button",{className:"btn ".concat(t.style," ").concat(d?"selected":""),onClick:function(){var e=t.callback();console.log("inside",e),r(e)},children:o})};!function(e){e.setCur="SET_CURRENT",e.sum="OP_SUM",e.dec="OP_DEC",e.mul="OP_MUL",e.div="OP_DIV",e.perc="OP_PERC",e.inv="VAL_INV",e.clear="VAL_CLEAR",e.remove="VAL_REMOVE",e.calculate="VAL_CALCULATE",e.setDot="VAL_SET_DOT"}(a||(a={}));var h,v=a,d=function(e){return{type:v.setCur,value:e}},O=function(){return{type:v.sum}},g=function(){return{type:v.dec}},x=function(){return{type:v.mul}},m=function(){return{type:v.div}},w=function(){return{type:v.perc}},V=function(){return{type:v.inv}},S=function(){return{type:v.setDot}},y=function(){return{type:v.calculate}},_=function(){return{type:v.clear}},A=function(){return{type:v.remove}};!function(e){e.light="btn__light",e.dark="btn__dark",e.colored="btn__colored"}(h||(h={}));r(29);var N=function e(t,r,n){Object(o.a)(this,e),this.value=void 0,this.style=void 0,this.callback=void 0,this.value=t,this.style="light"===r?h.light:h.colored,this.callback=n},D=function(){var e=b((function(e){return e.curValue})),t=b((function(e){return e.operator})),r=Object(p.b)(),a=function(e,a){return console.log("checking"),t!==e&&t&&r(n[t]()),a()},c=[new N("AC","lighter",(function(){return e?A():_()})),new N("\xb1","lighter",V),new N("%","lighter",w),new N("\xf7","colored",(function(){return a("div",m)})),new N("1","light",(function(){return d(1)})),new N("2","light",(function(){return d(2)})),new N("3","light",(function(){return d(3)})),new N("x","colored",(function(){return a("mul",x)})),new N("4","light",(function(){return d(4)})),new N("5","light",(function(){return d(5)})),new N("6","light",(function(){return d(6)})),new N("+","colored",(function(){return a("sum",O)})),new N("7","light",(function(){return d(7)})),new N("8","light",(function(){return d(8)})),new N("9","light",(function(){return d(9)})),new N("-","colored",(function(){return a("dec",g)})),new N("0","light",(function(){return d(0)})),new N(".","light",S),new N("=","colored",(function(){if(t){var e=n[t]();console.log(e),r(e)}return y()}))];return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:e||"_"}),Object(j.jsx)("div",{className:"basicButtons",children:c.map((function(e){return Object(j.jsx)(f,{model:e},e.value)}))})]})},E=r(9),I=function e(){return{parse:function(t){var r,n,a={val:0,posState:1,dotState:0,logData:{basis:null,value:null},bracketsLevel:-1},c=[],u=[],l=function(e,t){e.split("").forEach((function(e,t){")"===e&&c.push(t),"("===e&&u.push(t)}));var r=c[0+a.bracketsLevel];return{val:e.slice(t+1,r).split("").filter((function(e){return"("!==e&&")"!==e})).join(""),index:r}},s=function e(t,r){if(0===t)return 1;if(t%1!==0||t<0)throw new TypeError(JSON.stringify({message:"\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u0430\u043b\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435\u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c",pos:0}));return 1===t?t:t*e(t-1,r)},i=[],o=[],p={sum:function(e,t){return e+t},dec:function(e,t){return e-t},mul:function(e,t){return e*t},div:function(e,t){return 0===t?-1/0:e/t},pow:function(e,t){return Math.pow(e,t)}},b={numbers:i,operators:o,expAnswer:0};try{if(function(){if(t.split("").forEach((function(e,t){")"===e&&c.push(t),"("===e&&u.push(t)})),u.length>c.length)throw new TypeError(JSON.stringify({message:"\u041d\u0430\u0440\u0443\u0448\u0435\u043d \u0431\u0430\u043b\u0430\u043d\u0441 \u0441\u043a\u043e\u0431\u043e\u043a, \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u044e\u0449\u0435\u0439",pos:0}));if(u.length<c.length)throw new TypeError(JSON.stringify({message:"\u041d\u0430\u0440\u0443\u0448\u0435\u043d \u0431\u0430\u043b\u0430\u043d\u0441 \u0441\u043a\u043e\u0431\u043e\u043a, \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u044e\u0449\u0435\u0439",pos:0}))}(),!t.trim())throw new TypeError(JSON.stringify({message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435",pos:0}));for(var j=0;j<t.length;j++){var f=t[j];if(" "!==f)if("."!==f&&","!==f){if("e"===t[j]){if(a.val)throw new TypeError(JSON.stringify({message:"\u0427\u0438\u0441\u043b\u043e \u042d\u0439\u043b\u0435\u0440\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u043e \u043e\u043f\u0435\u0440\u0430\u043d\u0434\u043e\u043c",pos:j+1}));a.val=Math.E;for(var h=j+1;h<t.length;h++)if(" "!==t[h]){if(isNaN(parseInt(t[h])))break;throw new TypeError(JSON.stringify({message:"\u0427\u0438\u0441\u043b\u043e \u042d\u0439\u043b\u0435\u0440\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u043e \u043e\u043f\u0435\u0440\u0430\u043d\u0434\u043e\u043c",pos:j+1}))}}else if("pi"===t.slice(j,j+2)){if(a.val)throw new TypeError(JSON.stringify({message:"\u0427\u0438\u0441\u043b\u043e \u041f\u0438 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u043e \u043e\u043f\u0435\u0440\u0430\u043d\u0434\u043e\u043c",pos:j+1}));a.val=Math.PI;for(var v=++j+1;v<t.length;v++)if(" "!==t[v]){if(isNaN(parseInt(t[v])))break;throw new TypeError(JSON.stringify({message:"\u0427\u0438\u0441\u043b\u043e \u041f\u0438 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u043e \u043e\u043f\u0435\u0440\u0430\u043d\u0434\u043e\u043c",pos:j+1}))}}else if(isNaN(parseInt(f,10)))if("+"===f)o.push("sum"),i.push(a.val),a.val=0,a.posState=1,a.dotState=0;else if("-"===f&&0!==j)o.push("dec"),i.push(a.val),a.val=0,a.posState=1,a.dotState=0;else if("-"!==f||0!==j&&"("!==t[j-1]){if("!"===f)a.val=s(a.val,j);else if("l"===f){if("n"===t[j+1])a.logData.basis=Math.E,j++;else if("g"===t[j+1])a.logData.basis=10,j++;else if("b"===t[j+1])a.logData.basis=2,j++;else{if("og"!==t.slice(j+1,j+3))throw new TypeError(JSON.stringify({message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u043b\u043e\u0433\u0430\u0440\u0438\u0444\u043c\u0430",pos:j}));for(var d=j+3;d<t.length;d++){if(isNaN(parseInt(t[d],10))&&"."!==t[d]&&","!==t[d]&&"-"!==t[d]){if("("===t[d]&&null!==a.logData.basis){j=d-1;break}throw new TypeError(JSON.stringify({message:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u0433\u0430\u0440\u0438\u0444\u043c\u0430",pos:d}))}if(a.logData.basis=a.logData.basis?"".concat(a.logData.basis).concat(t[d]):t[d],d===t.length-1){j+=2;break}}}if("("!==t[j+1])throw new TypeError(JSON.stringify({message:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u0430\u0440\u0438\u0444\u043c\u0430",pos:j+1}))}else if("("===f&&null===a.logData.basis){a.bracketsLevel+=1;var O=l(t,j),g=O.val,x=e().parse(g);0!==j&&0===a.val&&(a.val=x.expAnswer),0===j&&t.length===O.index+1?(b.numbers=Object(E.a)(x.numbers),b.operators=Object(E.a)(x.operators),b.expAnswer=x.expAnswer):0===j&&t.length>O.index&&(a.val=x.expAnswer),0!==j&&0===b.numbers.length?b.numbers.push(b.expAnswer):0!==j&&2===b.numbers.length&&(b.numbers=[].concat(Object(E.a)(b.numbers),[x.expAnswer])),j=O.index}else if("("===f&&null!==a.logData.basis){a.bracketsLevel+=1;var m=l(t,j),w=m.val,V=e().parse(w);a.logData.value=V.expAnswer;var S=(r=+a.logData.basis,n=a.logData.value,Math.log(n)/Math.log(r));a.val=S,a.logData.basis=null,a.logData.value=null,j=m.index}else if("*"===f)o.push("mul"),i.push(a.val),a.val=0,a.posState=1,a.dotState=0;else if("^"===f)o.push("pow"),i.push(a.val),a.val=0,a.posState=1,a.dotState=0;else if("/"===f)o.push("div"),i.push(a.val),a.val=0,a.posState=1,a.dotState=0;else if(")"!==f)throw new TypeError(JSON.stringify({message:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b",pos:j}))}else a.posState=-1;else 0===a.dotState?0===a.val?a.val+=parseInt(f,10)*a.posState:a.val=10*a.val+parseInt(f,10)*a.posState:10===a.dotState?(a.val=+"".concat(a.val,".").concat(parseInt(f,10)),a.dotState*=10):(a.val=+"".concat(a.val).concat(parseInt(f,10)),a.dotState*=10);j===t.length-1&&i.push(a.val)}else a.dotState=10}if(o.length>1){var y=o.reduce((function(e,t,r){return b.expAnswer=0!==b.expAnswer?b.expAnswer:e,e=p[t](b.expAnswer,b.numbers[r+1]),b.expAnswer=e,e}),b.numbers[0]);b.expAnswer=y}if(1===o.length){var _=o.reduce((function(e,t,r){return b.expAnswer=0!==b.expAnswer?b.expAnswer:e,e=p[t](b.expAnswer,b.numbers[r+1]),b.expAnswer=e,e}),i[0]);b.expAnswer=_}return 0!==o.length||b.expAnswer||(b.expAnswer=a.val),b}catch(A){throw A}}}},k=r(3),C=r.n(k),T=function(){var e=I().parse,t={message:"",pos:null},r=Object(c.useRef)(null),n=Object(c.useState)(""),a=Object(i.a)(n,2),u=a[0],l=a[1],s=Object(c.useState)(null),o=Object(i.a)(s,2),p=o[0],b=o[1],f=Object(c.useState)(t),h=Object(i.a)(f,2),v=h[0],d=h[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("form",{onSubmit:function(t){t.preventDefault();try{var n=e(u).expAnswer;b(n)}catch(v){var a=JSON.parse(v.message);r.current.style.left="calc(".concat(9*a.pos,"px + .25rem)"),d(a),b(null)}},children:Object(j.jsxs)("div",{className:C.a.formWrapper,children:[Object(j.jsxs)("div",{className:C.a.inputWrapper,children:[Object(j.jsx)("input",{type:"text",className:C.a.input,value:u,onChange:function(e){v.message&&d(t),l(e.target.value)}}),Object(j.jsx)("div",{className:"".concat(C.a.errPointer," ").concat(null!==v.pos?C.a.showPointer:""),ref:r})]}),Object(j.jsx)("button",{type:"submit",className:C.a.calcBtn,title:"\u041f\u043e\u0441\u0447\u0438\u0442\u0430\u0442\u044c",children:"="}),v.message&&Object(j.jsx)("p",{className:C.a.errDescription,children:v.message})]})}),Object(j.jsx)("div",{className:C.a.resultWrapper,children:Object(j.jsxs)("p",{className:C.a.result,children:["\u041e\u0442\u0432\u0435\u0442: ",p]})}),Object(j.jsxs)("ul",{style:{width:"fit-content",margin:"0 auto"},children:["\u0424\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f:",Object(j.jsxs)("li",{children:["\u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438: ",Object(j.jsx)("strong",{children:"a+b-c*d/e"})]}),Object(j.jsxs)("li",{children:["\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u044e\u0442\u0441\u044f ",Object(j.jsx)("strong",{children:"\u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f!"})," (\u043d\u0435\u0442 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u0430 \u0443\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u044f, \u0434\u0435\u043b\u0435\u043d\u0438\u044f, \u0438 \u0442\u0434)"]}),Object(j.jsxs)("li",{children:["\u0412\u043e\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u0441\u0442\u0435\u043f\u0435\u043d\u044c: ",Object(j.jsx)("strong",{children:"x^y"})]}),Object(j.jsxs)("li",{children:["\u0424\u0430\u043a\u0442\u043e\u0440\u0438\u0430\u043b: ",Object(j.jsx)("strong",{children:"x!"})]}),Object(j.jsxs)("li",{children:["\u041b\u043e\u0433\u0430\u0440\u0438\u0444\u043c\u044b (\u0431\u0435\u0437 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438, \u0431\u0435\u0437 \u0441\u043a\u043e\u0431\u043e\u043a \u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 (\u0431\u0435\u0437 \u0441\u043a\u043e\u0431\u043e\u043a \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u043a\u043e\u0431\u043e\u043a)):",Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["\u041b\u043e\u0433\u0430\u0440\u0438\u0444\u043c \u043e\u0442 x \u043f\u043e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044e y: ",Object(j.jsx)("strong",{children:"logy(x)"})]}),Object(j.jsxs)("li",{children:["\u041d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0430\u0440\u0438\u0444\u043c \u043e\u0442 \u0445: ",Object(j.jsx)("strong",{children:"ln(x)"})]}),Object(j.jsxs)("li",{children:["\u041b\u043e\u0433\u0430\u0440\u0438\u0444\u043c \u043e\u0442 \u0445 \u043f\u043e \u043ec\u043d\u043e\u0432\u0430\u043d\u0438\u044e 10: ",Object(j.jsx)("strong",{children:"lg(x)"})]}),Object(j.jsxs)("li",{children:["\u041b\u043e\u0433\u0430\u0440\u0438\u0444\u043c \u043e\u0442 \u0445 \u043f\u043e \u043ec\u043d\u043e\u0432\u0430\u043d\u0438\u044e 2: ",Object(j.jsx)("strong",{children:"lb(x)"})]})]})]}),Object(j.jsxs)("li",{children:["\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b:",Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["\u0427\u0438\u0441\u043b\u043e \u042d\u0439\u043b\u0435\u0440\u0430 (~2,7183): ",Object(j.jsx)("strong",{children:"e"})]}),Object(j.jsxs)("li",{children:["\u0427\u0438\u0441\u043b\u043e \u03c0 (~3,1416): ",Object(j.jsx)("strong",{children:"pi"})]})]})]})]})]})};r(30);var J=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),r=t[0],n=t[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("input",{type:"checkbox",checked:r,onChange:function(){return n((function(e){return!e}))}}),!r&&Object(j.jsx)(T,{}),r&&Object(j.jsx)(D,{})]})},L=r(11),P=r(2),M={mode:"simple",curValue:null,prevValue:null,operator:null,isDot:!1},W=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case v.setCur:return t.operator&&!t.prevValue?Object(P.a)(Object(P.a)({},t),{},{prevValue:t.curValue,curValue:"."!==r.value?r.value:null}):t.isDot?Object(P.a)(Object(P.a)({},t),{},{curValue:+"".concat(t.curValue,".").concat(r.value),isDot:!1}):Object(P.a)(Object(P.a)({},t),{},{curValue:+"".concat(null!==(e=t.curValue)&&void 0!==e?e:"").concat(r.value)});case v.sum:return t.prevValue?Object(P.a)(Object(P.a)({},t),{},{curValue:t.curValue+t.prevValue,prevValue:null,operator:"sum"}):Object(P.a)(Object(P.a)({},t),{},{prevValue:t.curValue,curValue:null,operator:"sum"});case v.dec:return t.prevValue?Object(P.a)(Object(P.a)({},t),{},{curValue:t.prevValue-t.curValue,prevValue:null,operator:"dec"}):Object(P.a)(Object(P.a)({},t),{},{prevValue:t.curValue,curValue:null,operator:"dec"});case v.mul:return t.prevValue?Object(P.a)(Object(P.a)({},t),{},{curValue:t.prevValue*t.curValue,prevValue:null,operator:"mul"}):Object(P.a)(Object(P.a)({},t),{},{prevValue:t.curValue,curValue:null,operator:"mul"});case v.div:return t.prevValue?Object(P.a)(Object(P.a)({},t),{},{curValue:t.prevValue/t.curValue,prevValue:null,operator:"div"}):Object(P.a)(Object(P.a)({},t),{},{prevValue:t.curValue,curValue:null,operator:"div"});case v.perc:return t.prevValue?Object(P.a)(Object(P.a)({},t),{},{curValue:t.prevValue/100*t.curValue}):Object(P.a)(Object(P.a)({},t),{},{curValue:t.curValue/100});case v.inv:return Object(P.a)(Object(P.a)({},t),{},{curValue:-1*t.curValue});case v.setDot:return Object(P.a)(Object(P.a)({},t),{},{isDot:!0});case v.calculate:return Object(P.a)(Object(P.a)({},t),{},{operator:null});case v.clear:return Object(P.a)(Object(P.a)({},t),{},{curValue:null,prevValue:null,operator:null});case v.remove:return Object(P.a)(Object(P.a)({},t),{},{curValue:+"".concat(t.curValue).slice(0,-1)});default:return t}},R=r(15),B=Object(L.createStore)(W,Object(R.composeWithDevTools)());s.a.render(Object(j.jsx)(u.a.StrictMode,{children:Object(j.jsx)(p.a,{store:B,children:Object(j.jsx)(J,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.5e6ab64d.chunk.js.map